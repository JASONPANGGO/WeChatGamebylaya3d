var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**This class is automatically generated by LayaAirIDE, please do not make any modifications. */


var _GameUI = require("./script/GameUI");

var _GameUI2 = _interopRequireDefault(_GameUI);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var GameConfig = function () {
    function GameConfig() {
        _classCallCheck(this, GameConfig);
    }

    _createClass(GameConfig, null, [{
        key: "init",
        value: function init() {
            //注册Script或者Runtime引用
            var reg = Laya.ClassUtils.regClass;
            reg("script/GameUI.js", _GameUI2.default);
        }
    }]);

    return GameConfig;
}();

// GameConfig.width = 640;
// GameConfig.height = 1136;


exports.default = GameConfig;
GameConfig.scaleMode = Laya.Stage.SCALE_FULL;
GameConfig.screenMode = "none";
GameConfig.startScene = "test/TestScene.scene";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = true;
GameConfig.physicsDebug = true;
GameConfig.exportSceneToJson = true;

GameConfig.init();

},{"./script/GameUI":4}],2:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _GameConfig = require("./GameConfig");

var _GameConfig2 = _interopRequireDefault(_GameConfig);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Main = function () {
	function Main() {
		_classCallCheck(this, Main);

		//根据IDE设置初始化引擎		
		if (window["Laya3D"]) Laya3D.init(_GameConfig2.default.width, _GameConfig2.default.height);else Laya.init(_GameConfig2.default.width, _GameConfig2.default.height, Laya["WebGL"]);
		Laya["Physics"] && Laya["Physics"].enable();
		Laya["DebugPanel"] && Laya["DebugPanel"].enable();
		Laya.stage.scaleMode = _GameConfig2.default.scaleMode;
		Laya.stage.screenMode = _GameConfig2.default.screenMode;
		Laya.stage.alignV = _GameConfig2.default.alignV;
		Laya.stage.alignH = _GameConfig2.default.alignH;
		//兼容微信不支持加载scene后缀场景
		Laya.URL.exportSceneToJson = _GameConfig2.default.exportSceneToJson;

		//打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
		if (_GameConfig2.default.debug || Laya.Utils.getQueryString("debug") == "true") Laya.enableDebugPanel();
		if (_GameConfig2.default.physicsDebug && Laya["PhysicsDebugDraw"]) Laya["PhysicsDebugDraw"].enable();
		if (_GameConfig2.default.stat) Laya.Stat.show();
		Laya.alertGlobalError = true;

		//激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
		Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
	}

	_createClass(Main, [{
		key: "onVersionLoaded",
		value: function onVersionLoaded() {
			//激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
			Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
		}
	}, {
		key: "onConfigLoaded",
		value: function onConfigLoaded() {
			//加载IDE指定的场景
			_GameConfig2.default.startScene && Laya.Scene.open(_GameConfig2.default.startScene);
		}
	}]);

	return Main;
}();
//激活启动类


new Main();

},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var CameraMoveScript = function (_Laya$Script3D) {
    _inherits(CameraMoveScript, _Laya$Script3D);

    function CameraMoveScript() {
        _classCallCheck(this, CameraMoveScript);

        var _this = _possibleConstructorReturn(this, (CameraMoveScript.__proto__ || Object.getPrototypeOf(CameraMoveScript)).call(this));

        _this._tempVector3 = new Laya.Vector3();
        _this.yawPitchRoll = new Laya.Vector3();
        _this.resultRotation = new Laya.Quaternion();
        _this.tempRotationZ = new Laya.Quaternion();
        _this.tempRotationX = new Laya.Quaternion();
        _this.tempRotationY = new Laya.Quaternion();
        _this.rotaionSpeed = 0.00006;
        return _this;
    }

    _createClass(CameraMoveScript, [{
        key: "onAwake",
        value: function onAwake() {
            Laya.stage.on(Laya.Event.RIGHT_MOUSE_DOWN, this, this.mouseDown);
            Laya.stage.on(Laya.Event.RIGHT_MOUSE_UP, this, this.mouseUp);
            this.camera = this.owner;
        }
    }, {
        key: "_onDestroy",
        value: function _onDestroy() {
            //关闭监听函数
            Laya.stage.off(Laya.Event.RIGHT_MOUSE_DOWN, this, this.mouseDown);
            Laya.stage.off(Laya.Event.RIGHT_MOUSE_UP, this, this.mouseUp);
        }
    }, {
        key: "onUpdate",
        value: function onUpdate(state) {
            var elapsedTime = Laya.timer.delta;
            if (!isNaN(this.lastMouseX) && !isNaN(this.lastMouseY) && this.isMouseDown) {
                var scene = this.owner.scene;
                Laya.KeyBoardManager.hasKeyDown(87) && this.moveForward(-0.01 * elapsedTime); //W
                Laya.KeyBoardManager.hasKeyDown(83) && this.moveForward(0.01 * elapsedTime); //S
                Laya.KeyBoardManager.hasKeyDown(65) && this.moveRight(-0.01 * elapsedTime); //A
                Laya.KeyBoardManager.hasKeyDown(68) && this.moveRight(0.01 * elapsedTime); //D
                Laya.KeyBoardManager.hasKeyDown(81) && this.moveVertical(0.01 * elapsedTime); //Q
                Laya.KeyBoardManager.hasKeyDown(69) && this.moveVertical(-0.01 * elapsedTime); //E

                var offsetX = Laya.stage.mouseX - this.lastMouseX;
                var offsetY = Laya.stage.mouseY - this.lastMouseY;

                var yprElem = this.yawPitchRoll;
                yprElem.x -= offsetX * this.rotaionSpeed * elapsedTime;
                yprElem.y -= offsetY * this.rotaionSpeed * elapsedTime;
                this.updateRotation();
            }
            this.lastMouseX = Laya.stage.mouseX;
            this.lastMouseY = Laya.stage.mouseY;
        }
    }, {
        key: "mouseDown",
        value: function mouseDown(e) {
            //获得鼠标的旋转值
            this.camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);
            //获得鼠标的xy值
            this.lastMouseX = Laya.stage.mouseX;
            this.lastMouseY = Laya.stage.mouseY;
            //设置bool值
            this.isMouseDown = true;
        }
    }, {
        key: "mouseUp",
        value: function mouseUp(e) {
            //设置bool值
            this.isMouseDown = false;
        }
        /**
         * 向前移动。
         */

    }, {
        key: "moveForward",
        value: function moveForward(distance) {
            this._tempVector3.x = 0;
            this._tempVector3.y = 0;
            this._tempVector3.z = distance;
            this.camera.transform.translate(this._tempVector3);
        }
        /**
         * 向右移动。
         */

    }, {
        key: "moveRight",
        value: function moveRight(distance) {
            this._tempVector3.y = 0;
            this._tempVector3.z = 0;
            this._tempVector3.x = distance;
            this.camera.transform.translate(this._tempVector3);
        }
        /**
         * 向上移动。
         */

    }, {
        key: "moveVertical",
        value: function moveVertical(distance) {
            this._tempVector3.x = this._tempVector3.z = 0;
            this._tempVector3.y = distance;
            this.camera.transform.translate(this._tempVector3, false);
        }
    }, {
        key: "updateRotation",
        value: function updateRotation() {
            if (Math.abs(this.yawPitchRoll.y) < 1.50) {
                Laya.Quaternion.createFromYawPitchRoll(this.yawPitchRoll.x, this.yawPitchRoll.y, this.yawPitchRoll.z, this.tempRotationZ);
                this.tempRotationZ.cloneTo(this.camera.transform.localRotation);
                this.camera.transform.localRotation = this.camera.transform.localRotation;
            }
        }
    }]);

    return CameraMoveScript;
}(Laya.Script3D);

exports.default = CameraMoveScript;

},{}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
        value: true
});

var _CameraMoveScript = require("./CameraMoveScript");

var _CameraMoveScript2 = _interopRequireDefault(_CameraMoveScript);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 本示例采用非脚本的方式实现，而使用继承页面基类，实现页面逻辑。在IDE里面设置场景的Runtime属性即可和场景进行关联
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 相比脚本方式，继承式页面类，可以直接使用页面定义的属性（通过IDE内var属性定义），比如this.tipLbll，this.scoreLbl，具有代码提示效果
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * 建议：如果是页面级的逻辑，需要频繁访问页面内多个元素，使用继承式写法，如果是独立小模块，功能单一，建议用脚本方式实现，比如子弹脚本。
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */


// import Object from "./Object.js"

var GameUI = function (_Laya$Scene) {
        _inherits(GameUI, _Laya$Scene);

        function GameUI() {
                _classCallCheck(this, GameUI);

                //加载场景文件
                var _this = _possibleConstructorReturn(this, (GameUI.__proto__ || Object.getPrototypeOf(GameUI)).call(this));

                _this.loadScene("test/TestScene.scene");

                //添加3D场景
                var scene = Laya.stage.addChild(new Laya.Scene3D());

                //添加照相机
                var camera = scene.addChild(new Laya.Camera(0, 0.1, 200));
                camera.transform.translate(new Laya.Vector3(0, 5, 10));
                camera.transform.rotate(new Laya.Vector3(-20, 0, 0), true, false);
                camera.clearColor = null;

                // 添加方向光
                var directionLight = scene.addChild(new Laya.DirectionLight());
                directionLight.color = new Laya.Vector3(0.6, 0.6, 0.6);
                directionLight.transform.worldMatrix.setForward(new Laya.Vector3(-1.0, -1.0, -1.0));
                //灯光开启阴影
                directionLight.shadow = true;
                //可见阴影距离
                directionLight.shadowDistance = 15;
                //生成阴影贴图尺寸
                directionLight.shadowResolution = 1024 * 9;
                //模糊等级,越大越高,更耗性能
                directionLight.shadowPCFType = 3;
                //生成阴影贴图数量
                directionLight.shadowPSSMCount = 1;

                // 添加聚光
                var spotLight = scene.addChild(new Laya.SpotLight());
                spotLight.color = new Laya.Vector3(0.2, 0.8, 0.3);
                spotLight.transform.position = new Laya.Vector3(0.0, 1, 0.0);
                spotLight.transform.worldMatrix.setForward(new Laya.Vector3(0.8, -5, -15.0));
                spotLight.range = 60.0;
                spotLight.spotAngle = 90;
                // spotLight.shadow = true;
                // spotLight.shadowDistance = 3;
                // //生成阴影贴图尺寸
                // spotLight.shadowResolution = 2048;
                // //生成阴影贴图数量
                // spotLight.shadowPSSMCount = 1;
                // //模糊等级,越大越高,更耗性能

                // // 添加点光灯
                // var DirectionLight = scene.addChild(new Laya.DirectionLight());
                // //移动灯光位置
                // DirectionLight.transform.translate(new Laya.Vector3(1, 1, 0));
                // // 设置点光照亮范围
                // DirectionLight.range = 5;
                // DirectionLight.shadow = true;
                // DirectionLight.shadowDistance = 15;
                // //生成阴影贴图尺寸
                // DirectionLight.shadowResolution = 1024 * 9;
                // //模糊等级,越大越高,更耗性能
                // DirectionLight.shadowPCFType = 3;
                // //生成阴影贴图数量
                // DirectionLight.shadowPSSMCount = 1;

                // box 一个主角物体
                var box = scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(0.4, 0.4, 0.4)));
                box.transform.translate(new Laya.Vector3(0, 2, -2));
                box.transform.rotate(new Laya.Vector3(45, 45, 45), false, false);

                // 产生阴影
                box.meshRenderer.castShadow = true;
                box.meshRenderer.material = new Laya.BlinnPhongMaterial(new Laya.Vector4(3, 6, 2, 1));

                //添加自定义模型
                // ground地面
                var ground = scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(10, 0.01, 10)));
                ground.transform.rotate(new Laya.Vector3(0, 0, 0), false, false);
                var material = new Laya.BlinnPhongMaterial();
                Laya.Texture2D.load("res/grass.jpg", Laya.Handler.create(null, function (tex) {
                        material.albedoTexture = tex;
                }));
                // 接收投影
                ground.meshRenderer.receiveShadow = true;
                ground.meshRenderer.castShadow = true;
                ground.meshRenderer.material = material;

                // wall 一面墙壁
                var wall = scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(10, 5, 0.01)));
                wall.transform.translate(new Laya.Vector3(0, 1, -5));
                // 接收投影
                wall.meshRenderer.receiveShadow = true;
                wall.meshRenderer.castShadow = true;

                camera.addComponent(_CameraMoveScript2.default);

                var ray = new Laya.Ray(new Laya.Vector3(0, 0, 0), new Laya.Vector3(0, 0, 0));
                var point = new Laya.Vector2();
                Laya.stage.on(Laya.Event.MOUSE_DOWN, _this, _this.onMouseDown);

                return _this;
        }

        return GameUI;
}(Laya.Scene);

exports.default = GameUI;

},{"./CameraMoveScript":3}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL0FQUC9nZWVrL0xheWFBaXJJREUvcmVzb3VyY2VzL2FwcC9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL0dhbWVDb25maWcuanMiLCJzcmMvTWFpbi5qcyIsInNyYy9zY3JpcHQvQ2FtZXJhTW92ZVNjcmlwdC5qcyIsInNyYy9zY3JpcHQvR2FtZVVJLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Ozs7cWpCQ1ZBOzs7QUFDQTs7Ozs7Ozs7SUFFcUIsVTs7Ozs7OzsrQkFDSDtBQUNWO0FBQ0EsZ0JBQUksTUFBTSxLQUFLLFVBQUwsQ0FBZ0IsUUFBMUI7QUFDTixnQkFBSSxrQkFBSixFQUF1QixnQkFBdkI7QUFDRzs7Ozs7O0FBR0w7QUFDQTs7O2tCQVRxQixVO0FBVXJCLFdBQVcsU0FBWCxHQUF1QixLQUFLLEtBQUwsQ0FBVyxVQUFsQztBQUNBLFdBQVcsVUFBWCxHQUF3QixNQUF4QjtBQUNBLFdBQVcsVUFBWCxHQUF3QixzQkFBeEI7QUFDQSxXQUFXLFNBQVgsR0FBdUIsRUFBdkI7QUFDQSxXQUFXLEtBQVgsR0FBbUIsS0FBbkI7QUFDQSxXQUFXLElBQVgsR0FBa0IsSUFBbEI7QUFDQSxXQUFXLFlBQVgsR0FBMEIsSUFBMUI7QUFDQSxXQUFXLGlCQUFYLEdBQStCLElBQS9COztBQUVBLFdBQVcsSUFBWDs7Ozs7OztBQ3RCQTs7Ozs7Ozs7SUFDTSxJO0FBQ0wsaUJBQWM7QUFBQTs7QUFDYjtBQUNBLE1BQUksT0FBTyxRQUFQLENBQUosRUFBc0IsT0FBTyxJQUFQLENBQVkscUJBQVcsS0FBdkIsRUFBOEIscUJBQVcsTUFBekMsRUFBdEIsS0FDSyxLQUFLLElBQUwsQ0FBVSxxQkFBVyxLQUFyQixFQUE0QixxQkFBVyxNQUF2QyxFQUErQyxLQUFLLE9BQUwsQ0FBL0M7QUFDTCxPQUFLLFNBQUwsS0FBbUIsS0FBSyxTQUFMLEVBQWdCLE1BQWhCLEVBQW5CO0FBQ0EsT0FBSyxZQUFMLEtBQXNCLEtBQUssWUFBTCxFQUFtQixNQUFuQixFQUF0QjtBQUNBLE9BQUssS0FBTCxDQUFXLFNBQVgsR0FBdUIscUJBQVcsU0FBbEM7QUFDQSxPQUFLLEtBQUwsQ0FBVyxVQUFYLEdBQXdCLHFCQUFXLFVBQW5DO0FBQ0EsT0FBSyxLQUFMLENBQVcsTUFBWCxHQUFvQixxQkFBVyxNQUEvQjtBQUNBLE9BQUssS0FBTCxDQUFXLE1BQVgsR0FBb0IscUJBQVcsTUFBL0I7QUFDQTtBQUNBLE9BQUssR0FBTCxDQUFTLGlCQUFULEdBQTZCLHFCQUFXLGlCQUF4Qzs7QUFFQTtBQUNBLE1BQUkscUJBQVcsS0FBWCxJQUFvQixLQUFLLEtBQUwsQ0FBVyxjQUFYLENBQTBCLE9BQTFCLEtBQXNDLE1BQTlELEVBQXNFLEtBQUssZ0JBQUw7QUFDdEUsTUFBSSxxQkFBVyxZQUFYLElBQTJCLEtBQUssa0JBQUwsQ0FBL0IsRUFBeUQsS0FBSyxrQkFBTCxFQUF5QixNQUF6QjtBQUN6RCxNQUFJLHFCQUFXLElBQWYsRUFBcUIsS0FBSyxJQUFMLENBQVUsSUFBVjtBQUNyQixPQUFLLGdCQUFMLEdBQXdCLElBQXhCOztBQUVBO0FBQ0EsT0FBSyxlQUFMLENBQXFCLE1BQXJCLENBQTRCLGNBQTVCLEVBQTRDLEtBQUssT0FBTCxDQUFhLE1BQWIsQ0FBb0IsSUFBcEIsRUFBMEIsS0FBSyxlQUEvQixDQUE1QyxFQUE2RixLQUFLLGVBQUwsQ0FBcUIsZ0JBQWxIO0FBQ0E7Ozs7b0NBRWlCO0FBQ2pCO0FBQ0EsUUFBSyxnQkFBTCxDQUFzQixNQUF0QixDQUE2QixpQkFBN0IsRUFBZ0QsS0FBSyxPQUFMLENBQWEsTUFBYixDQUFvQixJQUFwQixFQUEwQixLQUFLLGNBQS9CLENBQWhEO0FBQ0E7OzttQ0FFZ0I7QUFDaEI7QUFDQSx3QkFBVyxVQUFYLElBQXlCLEtBQUssS0FBTCxDQUFXLElBQVgsQ0FBZ0IscUJBQVcsVUFBM0IsQ0FBekI7QUFDQTs7Ozs7QUFFRjs7O0FBQ0EsSUFBSSxJQUFKOzs7Ozs7Ozs7Ozs7Ozs7OztJQ3BDcUIsZ0I7OztBQUNqQixnQ0FBYTtBQUFBOztBQUFBOztBQUVULGNBQUssWUFBTCxHQUFvQixJQUFJLEtBQUssT0FBVCxFQUFwQjtBQUNBLGNBQUssWUFBTCxHQUFvQixJQUFJLEtBQUssT0FBVCxFQUFwQjtBQUNBLGNBQUssY0FBTCxHQUFzQixJQUFJLEtBQUssVUFBVCxFQUF0QjtBQUNBLGNBQUssYUFBTCxHQUFxQixJQUFJLEtBQUssVUFBVCxFQUFyQjtBQUNBLGNBQUssYUFBTCxHQUFxQixJQUFJLEtBQUssVUFBVCxFQUFyQjtBQUNBLGNBQUssYUFBTCxHQUFxQixJQUFJLEtBQUssVUFBVCxFQUFyQjtBQUNBLGNBQUssWUFBTCxHQUFvQixPQUFwQjtBQVJTO0FBU1o7Ozs7a0NBQ0s7QUFDUixpQkFBSyxLQUFMLENBQVcsRUFBWCxDQUFjLEtBQUssS0FBTCxDQUFXLGdCQUF6QixFQUEyQyxJQUEzQyxFQUFpRCxLQUFLLFNBQXREO0FBQ0EsaUJBQUssS0FBTCxDQUFXLEVBQVgsQ0FBYyxLQUFLLEtBQUwsQ0FBVyxjQUF6QixFQUF5QyxJQUF6QyxFQUErQyxLQUFLLE9BQXBEO0FBQ0EsaUJBQUssTUFBTCxHQUFjLEtBQUssS0FBbkI7QUFDQTs7O3FDQUNlO0FBQ1Q7QUFDQSxpQkFBSyxLQUFMLENBQVcsR0FBWCxDQUFlLEtBQUssS0FBTCxDQUFXLGdCQUExQixFQUE0QyxJQUE1QyxFQUFrRCxLQUFLLFNBQXZEO0FBQ0EsaUJBQUssS0FBTCxDQUFXLEdBQVgsQ0FBZSxLQUFLLEtBQUwsQ0FBVyxjQUExQixFQUEwQyxJQUExQyxFQUFnRCxLQUFLLE9BQXJEO0FBQ0g7OztpQ0FDUSxLLEVBQU87QUFDbEIsZ0JBQUksY0FBYyxLQUFLLEtBQUwsQ0FBVyxLQUE3QjtBQUNBLGdCQUFJLENBQUMsTUFBTSxLQUFLLFVBQVgsQ0FBRCxJQUEyQixDQUFDLE1BQU0sS0FBSyxVQUFYLENBQTVCLElBQXNELEtBQUssV0FBL0QsRUFBNEU7QUFDM0Usb0JBQUksUUFBUSxLQUFLLEtBQUwsQ0FBVyxLQUF2QjtBQUNBLHFCQUFLLGVBQUwsQ0FBcUIsVUFBckIsQ0FBZ0MsRUFBaEMsS0FBdUMsS0FBSyxXQUFMLENBQWlCLENBQUMsSUFBRCxHQUFRLFdBQXpCLENBQXZDLENBRjJFLENBRUU7QUFDN0UscUJBQUssZUFBTCxDQUFxQixVQUFyQixDQUFnQyxFQUFoQyxLQUF1QyxLQUFLLFdBQUwsQ0FBaUIsT0FBTyxXQUF4QixDQUF2QyxDQUgyRSxDQUdDO0FBQzVFLHFCQUFLLGVBQUwsQ0FBcUIsVUFBckIsQ0FBZ0MsRUFBaEMsS0FBdUMsS0FBSyxTQUFMLENBQWUsQ0FBQyxJQUFELEdBQVEsV0FBdkIsQ0FBdkMsQ0FKMkUsQ0FJQTtBQUMzRSxxQkFBSyxlQUFMLENBQXFCLFVBQXJCLENBQWdDLEVBQWhDLEtBQXVDLEtBQUssU0FBTCxDQUFlLE9BQU8sV0FBdEIsQ0FBdkMsQ0FMMkUsQ0FLRDtBQUMxRSxxQkFBSyxlQUFMLENBQXFCLFVBQXJCLENBQWdDLEVBQWhDLEtBQXVDLEtBQUssWUFBTCxDQUFrQixPQUFPLFdBQXpCLENBQXZDLENBTjJFLENBTUU7QUFDN0UscUJBQUssZUFBTCxDQUFxQixVQUFyQixDQUFnQyxFQUFoQyxLQUF1QyxLQUFLLFlBQUwsQ0FBa0IsQ0FBQyxJQUFELEdBQVEsV0FBMUIsQ0FBdkMsQ0FQMkUsQ0FPRzs7QUFFOUUsb0JBQUksVUFBVSxLQUFLLEtBQUwsQ0FBVyxNQUFYLEdBQW9CLEtBQUssVUFBdkM7QUFDQSxvQkFBSSxVQUFVLEtBQUssS0FBTCxDQUFXLE1BQVgsR0FBb0IsS0FBSyxVQUF2Qzs7QUFFQSxvQkFBSSxVQUFVLEtBQUssWUFBbkI7QUFDQSx3QkFBUSxDQUFSLElBQWEsVUFBVSxLQUFLLFlBQWYsR0FBOEIsV0FBM0M7QUFDQSx3QkFBUSxDQUFSLElBQWEsVUFBVSxLQUFLLFlBQWYsR0FBOEIsV0FBM0M7QUFDQSxxQkFBSyxjQUFMO0FBQ0E7QUFDRCxpQkFBSyxVQUFMLEdBQWtCLEtBQUssS0FBTCxDQUFXLE1BQTdCO0FBQ0EsaUJBQUssVUFBTCxHQUFrQixLQUFLLEtBQUwsQ0FBVyxNQUE3QjtBQUdHOzs7a0NBQ1MsQyxFQUFHO0FBQ1Q7QUFDQSxpQkFBSyxNQUFMLENBQVksU0FBWixDQUFzQixhQUF0QixDQUFvQyxlQUFwQyxDQUFvRCxLQUFLLFlBQXpEO0FBQ0E7QUFDQSxpQkFBSyxVQUFMLEdBQWtCLEtBQUssS0FBTCxDQUFXLE1BQTdCO0FBQ0EsaUJBQUssVUFBTCxHQUFrQixLQUFLLEtBQUwsQ0FBVyxNQUE3QjtBQUNBO0FBQ0EsaUJBQUssV0FBTCxHQUFtQixJQUFuQjtBQUVIOzs7Z0NBQ08sQyxFQUFHO0FBQ1A7QUFDQSxpQkFBSyxXQUFMLEdBQW1CLEtBQW5CO0FBQ0g7QUFDRDs7Ozs7O29DQUdZLFEsRUFBVTtBQUNsQixpQkFBSyxZQUFMLENBQWtCLENBQWxCLEdBQXNCLENBQXRCO0FBQ0EsaUJBQUssWUFBTCxDQUFrQixDQUFsQixHQUFzQixDQUF0QjtBQUNBLGlCQUFLLFlBQUwsQ0FBa0IsQ0FBbEIsR0FBc0IsUUFBdEI7QUFDQSxpQkFBSyxNQUFMLENBQVksU0FBWixDQUFzQixTQUF0QixDQUFnQyxLQUFLLFlBQXJDO0FBQ0g7QUFDRDs7Ozs7O2tDQUdVLFEsRUFBVTtBQUNoQixpQkFBSyxZQUFMLENBQWtCLENBQWxCLEdBQXNCLENBQXRCO0FBQ0EsaUJBQUssWUFBTCxDQUFrQixDQUFsQixHQUFzQixDQUF0QjtBQUNBLGlCQUFLLFlBQUwsQ0FBa0IsQ0FBbEIsR0FBc0IsUUFBdEI7QUFDQSxpQkFBSyxNQUFMLENBQVksU0FBWixDQUFzQixTQUF0QixDQUFnQyxLQUFLLFlBQXJDO0FBQ0g7QUFDRDs7Ozs7O3FDQUdhLFEsRUFBVTtBQUNuQixpQkFBSyxZQUFMLENBQWtCLENBQWxCLEdBQXNCLEtBQUssWUFBTCxDQUFrQixDQUFsQixHQUFzQixDQUE1QztBQUNBLGlCQUFLLFlBQUwsQ0FBa0IsQ0FBbEIsR0FBc0IsUUFBdEI7QUFDQSxpQkFBSyxNQUFMLENBQVksU0FBWixDQUFzQixTQUF0QixDQUFnQyxLQUFLLFlBQXJDLEVBQW1ELEtBQW5EO0FBQ0g7Ozt5Q0FFZ0I7QUFDYixnQkFBSSxLQUFLLEdBQUwsQ0FBUyxLQUFLLFlBQUwsQ0FBa0IsQ0FBM0IsSUFBZ0MsSUFBcEMsRUFBMEM7QUFDdEMscUJBQUssVUFBTCxDQUFnQixzQkFBaEIsQ0FBdUMsS0FBSyxZQUFMLENBQWtCLENBQXpELEVBQTRELEtBQUssWUFBTCxDQUFrQixDQUE5RSxFQUFpRixLQUFLLFlBQUwsQ0FBa0IsQ0FBbkcsRUFBc0csS0FBSyxhQUEzRztBQUNBLHFCQUFLLGFBQUwsQ0FBbUIsT0FBbkIsQ0FBMkIsS0FBSyxNQUFMLENBQVksU0FBWixDQUFzQixhQUFqRDtBQUNBLHFCQUFLLE1BQUwsQ0FBWSxTQUFaLENBQXNCLGFBQXRCLEdBQXNDLEtBQUssTUFBTCxDQUFZLFNBQVosQ0FBc0IsYUFBNUQ7QUFDSDtBQUNKOzs7O0VBNUZ5QyxLQUFLLFE7O2tCQUE5QixnQjs7Ozs7Ozs7O0FDS3JCOzs7Ozs7Ozs7OytlQUxBOzs7Ozs7O0FBTUE7O0lBRXFCLE07OztBQUNqQiwwQkFBYztBQUFBOztBQUVWO0FBRlU7O0FBR1Ysc0JBQUssU0FBTCxDQUFlLHNCQUFmOztBQUVBO0FBQ0Esb0JBQUksUUFBUSxLQUFLLEtBQUwsQ0FBVyxRQUFYLENBQW9CLElBQUksS0FBSyxPQUFULEVBQXBCLENBQVo7O0FBRUE7QUFDQSxvQkFBSSxTQUFVLE1BQU0sUUFBTixDQUFlLElBQUksS0FBSyxNQUFULENBQWdCLENBQWhCLEVBQW1CLEdBQW5CLEVBQXdCLEdBQXhCLENBQWYsQ0FBZDtBQUNBLHVCQUFPLFNBQVAsQ0FBaUIsU0FBakIsQ0FBMkIsSUFBSSxLQUFLLE9BQVQsQ0FBaUIsQ0FBakIsRUFBb0IsQ0FBcEIsRUFBdUIsRUFBdkIsQ0FBM0I7QUFDQSx1QkFBTyxTQUFQLENBQWlCLE1BQWpCLENBQXdCLElBQUksS0FBSyxPQUFULENBQWlCLENBQUMsRUFBbEIsRUFBc0IsQ0FBdEIsRUFBeUIsQ0FBekIsQ0FBeEIsRUFBcUQsSUFBckQsRUFBMkQsS0FBM0Q7QUFDQSx1QkFBTyxVQUFQLEdBQW9CLElBQXBCOztBQUVBO0FBQ0Esb0JBQUksaUJBQWlCLE1BQU0sUUFBTixDQUFlLElBQUksS0FBSyxjQUFULEVBQWYsQ0FBckI7QUFDQSwrQkFBZSxLQUFmLEdBQXVCLElBQUksS0FBSyxPQUFULENBQWlCLEdBQWpCLEVBQXNCLEdBQXRCLEVBQTJCLEdBQTNCLENBQXZCO0FBQ0EsK0JBQWUsU0FBZixDQUF5QixXQUF6QixDQUFxQyxVQUFyQyxDQUFnRCxJQUFJLEtBQUssT0FBVCxDQUFpQixDQUFDLEdBQWxCLEVBQXVCLENBQUMsR0FBeEIsRUFBNkIsQ0FBQyxHQUE5QixDQUFoRDtBQUNBO0FBQ0EsK0JBQWUsTUFBZixHQUF3QixJQUF4QjtBQUNBO0FBQ0EsK0JBQWUsY0FBZixHQUFnQyxFQUFoQztBQUNBO0FBQ0EsK0JBQWUsZ0JBQWYsR0FBa0MsT0FBTyxDQUF6QztBQUNBO0FBQ0EsK0JBQWUsYUFBZixHQUErQixDQUEvQjtBQUNBO0FBQ0EsK0JBQWUsZUFBZixHQUFpQyxDQUFqQzs7QUFJQTtBQUNBLG9CQUFJLFlBQVksTUFBTSxRQUFOLENBQWUsSUFBSSxLQUFLLFNBQVQsRUFBZixDQUFoQjtBQUNBLDBCQUFVLEtBQVYsR0FBa0IsSUFBSSxLQUFLLE9BQVQsQ0FBaUIsR0FBakIsRUFBc0IsR0FBdEIsRUFBMkIsR0FBM0IsQ0FBbEI7QUFDQSwwQkFBVSxTQUFWLENBQW9CLFFBQXBCLEdBQStCLElBQUksS0FBSyxPQUFULENBQWlCLEdBQWpCLEVBQXNCLENBQXRCLEVBQXlCLEdBQXpCLENBQS9CO0FBQ0EsMEJBQVUsU0FBVixDQUFvQixXQUFwQixDQUFnQyxVQUFoQyxDQUEyQyxJQUFJLEtBQUssT0FBVCxDQUFpQixHQUFqQixFQUFzQixDQUFDLENBQXZCLEVBQTBCLENBQUMsSUFBM0IsQ0FBM0M7QUFDQSwwQkFBVSxLQUFWLEdBQWtCLElBQWxCO0FBQ0EsMEJBQVUsU0FBVixHQUFzQixFQUF0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvQkFBSSxNQUFNLE1BQU0sUUFBTixDQUFlLElBQUksS0FBSyxZQUFULENBQXNCLEtBQUssYUFBTCxDQUFtQixTQUFuQixDQUE2QixHQUE3QixFQUFrQyxHQUFsQyxFQUF1QyxHQUF2QyxDQUF0QixDQUFmLENBQVY7QUFDQSxvQkFBSSxTQUFKLENBQWMsU0FBZCxDQUF3QixJQUFJLEtBQUssT0FBVCxDQUFpQixDQUFqQixFQUFvQixDQUFwQixFQUF1QixDQUFDLENBQXhCLENBQXhCO0FBQ0Esb0JBQUksU0FBSixDQUFjLE1BQWQsQ0FBcUIsSUFBSSxLQUFLLE9BQVQsQ0FBaUIsRUFBakIsRUFBcUIsRUFBckIsRUFBeUIsRUFBekIsQ0FBckIsRUFBbUQsS0FBbkQsRUFBMEQsS0FBMUQ7O0FBRUE7QUFDQSxvQkFBSSxZQUFKLENBQWlCLFVBQWpCLEdBQThCLElBQTlCO0FBQ0Esb0JBQUksWUFBSixDQUFpQixRQUFqQixHQUE0QixJQUFJLEtBQUssa0JBQVQsQ0FBNEIsSUFBSSxLQUFLLE9BQVQsQ0FBaUIsQ0FBakIsRUFBb0IsQ0FBcEIsRUFBdUIsQ0FBdkIsRUFBMEIsQ0FBMUIsQ0FBNUIsQ0FBNUI7O0FBRUE7QUFDQTtBQUNBLG9CQUFJLFNBQVMsTUFBTSxRQUFOLENBQWUsSUFBSSxLQUFLLFlBQVQsQ0FBc0IsS0FBSyxhQUFMLENBQW1CLFNBQW5CLENBQTZCLEVBQTdCLEVBQWlDLElBQWpDLEVBQXVDLEVBQXZDLENBQXRCLENBQWYsQ0FBYjtBQUNBLHVCQUFPLFNBQVAsQ0FBaUIsTUFBakIsQ0FBd0IsSUFBSSxLQUFLLE9BQVQsQ0FBaUIsQ0FBakIsRUFBb0IsQ0FBcEIsRUFBdUIsQ0FBdkIsQ0FBeEIsRUFBbUQsS0FBbkQsRUFBMEQsS0FBMUQ7QUFDQSxvQkFBSSxXQUFXLElBQUksS0FBSyxrQkFBVCxFQUFmO0FBQ0EscUJBQUssU0FBTCxDQUFlLElBQWYsQ0FBb0IsZUFBcEIsRUFBcUMsS0FBSyxPQUFMLENBQWEsTUFBYixDQUFvQixJQUFwQixFQUEwQixVQUFVLEdBQVYsRUFBZTtBQUMxRSxpQ0FBUyxhQUFULEdBQXlCLEdBQXpCO0FBQ0gsaUJBRm9DLENBQXJDO0FBR0E7QUFDQSx1QkFBTyxZQUFQLENBQW9CLGFBQXBCLEdBQW9DLElBQXBDO0FBQ0EsdUJBQU8sWUFBUCxDQUFvQixVQUFwQixHQUFpQyxJQUFqQztBQUNBLHVCQUFPLFlBQVAsQ0FBb0IsUUFBcEIsR0FBK0IsUUFBL0I7O0FBRUE7QUFDQSxvQkFBSSxPQUFPLE1BQU0sUUFBTixDQUFlLElBQUksS0FBSyxZQUFULENBQXNCLEtBQUssYUFBTCxDQUFtQixTQUFuQixDQUE2QixFQUE3QixFQUFpQyxDQUFqQyxFQUFvQyxJQUFwQyxDQUF0QixDQUFmLENBQVg7QUFDQSxxQkFBSyxTQUFMLENBQWUsU0FBZixDQUF5QixJQUFJLEtBQUssT0FBVCxDQUFpQixDQUFqQixFQUFvQixDQUFwQixFQUF1QixDQUFDLENBQXhCLENBQXpCO0FBQ0E7QUFDQSxxQkFBSyxZQUFMLENBQWtCLGFBQWxCLEdBQWtDLElBQWxDO0FBQ0EscUJBQUssWUFBTCxDQUFrQixVQUFsQixHQUErQixJQUEvQjs7QUFJQSx1QkFBTyxZQUFQLENBQW9CLDBCQUFwQjs7QUFFQSxvQkFBSSxNQUFNLElBQUksS0FBSyxHQUFULENBQWEsSUFBSSxLQUFLLE9BQVQsQ0FBaUIsQ0FBakIsRUFBb0IsQ0FBcEIsRUFBdUIsQ0FBdkIsQ0FBYixFQUF3QyxJQUFJLEtBQUssT0FBVCxDQUFpQixDQUFqQixFQUFvQixDQUFwQixFQUF1QixDQUF2QixDQUF4QyxDQUFWO0FBQ0Esb0JBQUksUUFBUSxJQUFJLEtBQUssT0FBVCxFQUFaO0FBQ0EscUJBQUssS0FBTCxDQUFXLEVBQVgsQ0FBYyxLQUFLLEtBQUwsQ0FBVyxVQUF6QixTQUEyQyxNQUFLLFdBQWhEOztBQWhHVTtBQWtHYjs7O0VBbkcrQixLQUFLLEs7O2tCQUFwQixNIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgR2FtZVVJIGZyb20gXCIuL3NjcmlwdC9HYW1lVUlcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZUNvbmZpZyB7XHJcbiAgICBzdGF0aWMgaW5pdCgpIHtcclxuICAgICAgICAvL+azqOWGjFNjcmlwdOaIluiAhVJ1bnRpbWXlvJXnlKhcclxuICAgICAgICBsZXQgcmVnID0gTGF5YS5DbGFzc1V0aWxzLnJlZ0NsYXNzO1xyXG5cdFx0cmVnKFwic2NyaXB0L0dhbWVVSS5qc1wiLEdhbWVVSSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIEdhbWVDb25maWcud2lkdGggPSA2NDA7XHJcbi8vIEdhbWVDb25maWcuaGVpZ2h0ID0gMTEzNjtcclxuR2FtZUNvbmZpZy5zY2FsZU1vZGUgPSBMYXlhLlN0YWdlLlNDQUxFX0ZVTEw7XHJcbkdhbWVDb25maWcuc2NyZWVuTW9kZSA9IFwibm9uZVwiO1xyXG5HYW1lQ29uZmlnLnN0YXJ0U2NlbmUgPSBcInRlc3QvVGVzdFNjZW5lLnNjZW5lXCI7XHJcbkdhbWVDb25maWcuc2NlbmVSb290ID0gXCJcIjtcclxuR2FtZUNvbmZpZy5kZWJ1ZyA9IGZhbHNlO1xyXG5HYW1lQ29uZmlnLnN0YXQgPSB0cnVlO1xyXG5HYW1lQ29uZmlnLnBoeXNpY3NEZWJ1ZyA9IHRydWU7XHJcbkdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb24gPSB0cnVlO1xyXG5cclxuR2FtZUNvbmZpZy5pbml0KCk7XHJcbiIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLmFsaWduViA9IEdhbWVDb25maWcuYWxpZ25WO1xyXG5cdFx0TGF5YS5zdGFnZS5hbGlnbkggPSBHYW1lQ29uZmlnLmFsaWduSDtcclxuXHRcdC8v5YW85a655b6u5L+h5LiN5pSv5oyB5Yqg6L29c2NlbmXlkI7nvIDlnLrmma9cclxuXHRcdExheWEuVVJMLmV4cG9ydFNjZW5lVG9Kc29uID0gR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbjtcclxuXHJcblx0XHQvL+aJk+W8gOiwg+ivlemdouadv++8iOmAmui/h0lEReiuvue9ruiwg+ivleaooeW8j++8jOaIluiAhXVybOWcsOWdgOWinuWKoGRlYnVnPXRydWXlj4LmlbDvvIzlnYflj6/miZPlvIDosIPor5XpnaLmnb/vvIlcclxuXHRcdGlmIChHYW1lQ29uZmlnLmRlYnVnIHx8IExheWEuVXRpbHMuZ2V0UXVlcnlTdHJpbmcoXCJkZWJ1Z1wiKSA9PSBcInRydWVcIikgTGF5YS5lbmFibGVEZWJ1Z1BhbmVsKCk7XHJcblx0XHRpZiAoR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgJiYgTGF5YVtcIlBoeXNpY3NEZWJ1Z0RyYXdcIl0pIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdLmVuYWJsZSgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcuc3RhdCkgTGF5YS5TdGF0LnNob3coKTtcclxuXHRcdExheWEuYWxlcnRHbG9iYWxFcnJvciA9IHRydWU7XHJcblxyXG5cdFx0Ly/mv4DmtLvotYTmupDniYjmnKzmjqfliLbvvIx2ZXJzaW9uLmpzb27nlLFJREXlj5HluIPlip/og73oh6rliqjnlJ/miJDvvIzlpoLmnpzmsqHmnInkuZ/kuI3lvbHlk43lkI7nu63mtYHnqItcclxuXHRcdExheWEuUmVzb3VyY2VWZXJzaW9uLmVuYWJsZShcInZlcnNpb24uanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25WZXJzaW9uTG9hZGVkKSwgTGF5YS5SZXNvdXJjZVZlcnNpb24uRklMRU5BTUVfVkVSU0lPTik7XHJcblx0fVxyXG5cclxuXHRvblZlcnNpb25Mb2FkZWQoKSB7XHJcblx0XHQvL+a/gOa0u+Wkp+Wwj+WbvuaYoOWwhO+8jOWKoOi9veWwj+WbvueahOaXtuWAme+8jOWmguaenOWPkeeOsOWwj+WbvuWcqOWkp+WbvuWQiOmbhumHjOmdou+8jOWImeS8mOWFiOWKoOi9veWkp+WbvuWQiOmbhu+8jOiAjOS4jeaYr+Wwj+WbvlxyXG5cdFx0TGF5YS5BdGxhc0luZm9NYW5hZ2VyLmVuYWJsZShcImZpbGVjb25maWcuanNvblwiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKHRoaXMsIHRoaXMub25Db25maWdMb2FkZWQpKTtcclxuXHR9XHJcblxyXG5cdG9uQ29uZmlnTG9hZGVkKCkge1xyXG5cdFx0Ly/liqDovb1JREXmjIflrprnmoTlnLrmma9cclxuXHRcdEdhbWVDb25maWcuc3RhcnRTY2VuZSAmJiBMYXlhLlNjZW5lLm9wZW4oR2FtZUNvbmZpZy5zdGFydFNjZW5lKTtcclxuXHR9XHJcbn1cclxuLy/mv4DmtLvlkK/liqjnsbtcclxubmV3IE1haW4oKTtcclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FtZXJhTW92ZVNjcmlwdCBleHRlbmRzIExheWEuU2NyaXB0M0R7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5fdGVtcFZlY3RvcjMgPSBuZXcgTGF5YS5WZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy55YXdQaXRjaFJvbGwgPSBuZXcgTGF5YS5WZWN0b3IzKCk7XHJcbiAgICAgICAgdGhpcy5yZXN1bHRSb3RhdGlvbiA9IG5ldyBMYXlhLlF1YXRlcm5pb24oKTtcclxuICAgICAgICB0aGlzLnRlbXBSb3RhdGlvblogPSBuZXcgTGF5YS5RdWF0ZXJuaW9uKCk7XHJcbiAgICAgICAgdGhpcy50ZW1wUm90YXRpb25YID0gbmV3IExheWEuUXVhdGVybmlvbigpO1xyXG4gICAgICAgIHRoaXMudGVtcFJvdGF0aW9uWSA9IG5ldyBMYXlhLlF1YXRlcm5pb24oKTtcclxuICAgICAgICB0aGlzLnJvdGFpb25TcGVlZCA9IDAuMDAwMDY7XHJcbiAgICB9XHJcblx0b25Bd2FrZSgpe1xyXG5cdFx0TGF5YS5zdGFnZS5vbihMYXlhLkV2ZW50LlJJR0hUX01PVVNFX0RPV04sIHRoaXMsIHRoaXMubW91c2VEb3duKTtcclxuXHRcdExheWEuc3RhZ2Uub24oTGF5YS5FdmVudC5SSUdIVF9NT1VTRV9VUCwgdGhpcywgdGhpcy5tb3VzZVVwKTtcclxuXHRcdHRoaXMuY2FtZXJhID0gdGhpcy5vd25lcjtcclxuXHR9XHJcbiAgICBfb25EZXN0cm95KCkge1xyXG4gICAgICAgIC8v5YWz6Zet55uR5ZCs5Ye95pWwXHJcbiAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5SSUdIVF9NT1VTRV9ET1dOLCB0aGlzLCB0aGlzLm1vdXNlRG93bik7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5vZmYoTGF5YS5FdmVudC5SSUdIVF9NT1VTRV9VUCwgdGhpcywgdGhpcy5tb3VzZVVwKTtcclxuICAgIH1cclxuICAgIG9uVXBkYXRlKHN0YXRlKSB7XHJcblx0XHR2YXIgZWxhcHNlZFRpbWUgPSBMYXlhLnRpbWVyLmRlbHRhO1xyXG5cdFx0aWYgKCFpc05hTih0aGlzLmxhc3RNb3VzZVgpICYmICFpc05hTih0aGlzLmxhc3RNb3VzZVkpICYmIHRoaXMuaXNNb3VzZURvd24pIHtcclxuXHRcdFx0dmFyIHNjZW5lID0gdGhpcy5vd25lci5zY2VuZTtcclxuXHRcdFx0TGF5YS5LZXlCb2FyZE1hbmFnZXIuaGFzS2V5RG93big4NykgJiYgdGhpcy5tb3ZlRm9yd2FyZCgtMC4wMSAqIGVsYXBzZWRUaW1lKTsvL1dcclxuXHRcdFx0TGF5YS5LZXlCb2FyZE1hbmFnZXIuaGFzS2V5RG93big4MykgJiYgdGhpcy5tb3ZlRm9yd2FyZCgwLjAxICogZWxhcHNlZFRpbWUpOy8vU1xyXG5cdFx0XHRMYXlhLktleUJvYXJkTWFuYWdlci5oYXNLZXlEb3duKDY1KSAmJiB0aGlzLm1vdmVSaWdodCgtMC4wMSAqIGVsYXBzZWRUaW1lKTsvL0FcclxuXHRcdFx0TGF5YS5LZXlCb2FyZE1hbmFnZXIuaGFzS2V5RG93big2OCkgJiYgdGhpcy5tb3ZlUmlnaHQoMC4wMSAqIGVsYXBzZWRUaW1lKTsvL0RcclxuXHRcdFx0TGF5YS5LZXlCb2FyZE1hbmFnZXIuaGFzS2V5RG93big4MSkgJiYgdGhpcy5tb3ZlVmVydGljYWwoMC4wMSAqIGVsYXBzZWRUaW1lKTsvL1FcclxuXHRcdFx0TGF5YS5LZXlCb2FyZE1hbmFnZXIuaGFzS2V5RG93big2OSkgJiYgdGhpcy5tb3ZlVmVydGljYWwoLTAuMDEgKiBlbGFwc2VkVGltZSk7Ly9FXHJcblx0XHRcdFx0XHJcblx0XHRcdHZhciBvZmZzZXRYID0gTGF5YS5zdGFnZS5tb3VzZVggLSB0aGlzLmxhc3RNb3VzZVg7XHJcblx0XHRcdHZhciBvZmZzZXRZID0gTGF5YS5zdGFnZS5tb3VzZVkgLSB0aGlzLmxhc3RNb3VzZVk7XHJcblx0XHRcdFx0XHJcblx0XHRcdHZhciB5cHJFbGVtID0gdGhpcy55YXdQaXRjaFJvbGw7XHJcblx0XHRcdHlwckVsZW0ueCAtPSBvZmZzZXRYICogdGhpcy5yb3RhaW9uU3BlZWQgKiBlbGFwc2VkVGltZTtcclxuXHRcdFx0eXByRWxlbS55IC09IG9mZnNldFkgKiB0aGlzLnJvdGFpb25TcGVlZCAqIGVsYXBzZWRUaW1lO1xyXG5cdFx0XHR0aGlzLnVwZGF0ZVJvdGF0aW9uKCk7XHJcblx0XHR9XHJcblx0XHR0aGlzLmxhc3RNb3VzZVggPSBMYXlhLnN0YWdlLm1vdXNlWDtcclxuXHRcdHRoaXMubGFzdE1vdXNlWSA9IExheWEuc3RhZ2UubW91c2VZO1xyXG5cdFx0XHJcbiAgICAgXHJcbiAgICB9XHJcbiAgICBtb3VzZURvd24oZSkge1xyXG4gICAgICAgIC8v6I635b6X6byg5qCH55qE5peL6L2s5YC8XHJcbiAgICAgICAgdGhpcy5jYW1lcmEudHJhbnNmb3JtLmxvY2FsUm90YXRpb24uZ2V0WWF3UGl0Y2hSb2xsKHRoaXMueWF3UGl0Y2hSb2xsKTtcclxuICAgICAgICAvL+iOt+W+l+m8oOagh+eahHh55YC8XHJcbiAgICAgICAgdGhpcy5sYXN0TW91c2VYID0gTGF5YS5zdGFnZS5tb3VzZVg7XHJcbiAgICAgICAgdGhpcy5sYXN0TW91c2VZID0gTGF5YS5zdGFnZS5tb3VzZVk7XHJcbiAgICAgICAgLy/orr7nva5ib29s5YC8XHJcbiAgICAgICAgdGhpcy5pc01vdXNlRG93biA9IHRydWU7XHJcbiAgICAgXHJcbiAgICB9XHJcbiAgICBtb3VzZVVwKGUpIHtcclxuICAgICAgICAvL+iuvue9rmJvb2zlgLxcclxuICAgICAgICB0aGlzLmlzTW91c2VEb3duID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIOWQkeWJjeenu+WKqOOAglxyXG4gICAgICovXHJcbiAgICBtb3ZlRm9yd2FyZChkaXN0YW5jZSkge1xyXG4gICAgICAgIHRoaXMuX3RlbXBWZWN0b3IzLnggPSAwO1xyXG4gICAgICAgIHRoaXMuX3RlbXBWZWN0b3IzLnkgPSAwO1xyXG4gICAgICAgIHRoaXMuX3RlbXBWZWN0b3IzLnogPSBkaXN0YW5jZTtcclxuICAgICAgICB0aGlzLmNhbWVyYS50cmFuc2Zvcm0udHJhbnNsYXRlKHRoaXMuX3RlbXBWZWN0b3IzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5ZCR5Y+z56e75Yqo44CCXHJcbiAgICAgKi9cclxuICAgIG1vdmVSaWdodChkaXN0YW5jZSkge1xyXG4gICAgICAgIHRoaXMuX3RlbXBWZWN0b3IzLnkgPSAwO1xyXG4gICAgICAgIHRoaXMuX3RlbXBWZWN0b3IzLnogPSAwO1xyXG4gICAgICAgIHRoaXMuX3RlbXBWZWN0b3IzLnggPSBkaXN0YW5jZTtcclxuICAgICAgICB0aGlzLmNhbWVyYS50cmFuc2Zvcm0udHJhbnNsYXRlKHRoaXMuX3RlbXBWZWN0b3IzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICog5ZCR5LiK56e75Yqo44CCXHJcbiAgICAgKi9cclxuICAgIG1vdmVWZXJ0aWNhbChkaXN0YW5jZSkge1xyXG4gICAgICAgIHRoaXMuX3RlbXBWZWN0b3IzLnggPSB0aGlzLl90ZW1wVmVjdG9yMy56ID0gMDtcclxuICAgICAgICB0aGlzLl90ZW1wVmVjdG9yMy55ID0gZGlzdGFuY2U7XHJcbiAgICAgICAgdGhpcy5jYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZSh0aGlzLl90ZW1wVmVjdG9yMywgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVJvdGF0aW9uKCkge1xyXG4gICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnlhd1BpdGNoUm9sbC55KSA8IDEuNTApIHtcclxuICAgICAgICAgICAgTGF5YS5RdWF0ZXJuaW9uLmNyZWF0ZUZyb21ZYXdQaXRjaFJvbGwodGhpcy55YXdQaXRjaFJvbGwueCwgdGhpcy55YXdQaXRjaFJvbGwueSwgdGhpcy55YXdQaXRjaFJvbGwueiwgdGhpcy50ZW1wUm90YXRpb25aKTtcclxuICAgICAgICAgICAgdGhpcy50ZW1wUm90YXRpb25aLmNsb25lVG8odGhpcy5jYW1lcmEudHJhbnNmb3JtLmxvY2FsUm90YXRpb24pO1xyXG4gICAgICAgICAgICB0aGlzLmNhbWVyYS50cmFuc2Zvcm0ubG9jYWxSb3RhdGlvbiA9IHRoaXMuY2FtZXJhLnRyYW5zZm9ybS5sb2NhbFJvdGF0aW9uO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuIiwiLyoqXHJcbiAqIOacrOekuuS+i+mHh+eUqOmdnuiEmuacrOeahOaWueW8j+WunueOsO+8jOiAjOS9v+eUqOe7p+aJv+mhtemdouWfuuexu++8jOWunueOsOmhtemdoumAu+i+keOAguWcqElERemHjOmdouiuvue9ruWcuuaZr+eahFJ1bnRpbWXlsZ7mgKfljbPlj6/lkozlnLrmma/ov5vooYzlhbPogZRcclxuICog55u45q+U6ISa5pys5pa55byP77yM57un5om/5byP6aG16Z2i57G777yM5Y+v5Lul55u05o6l5L2/55So6aG16Z2i5a6a5LmJ55qE5bGe5oCn77yI6YCa6L+HSURF5YaFdmFy5bGe5oCn5a6a5LmJ77yJ77yM5q+U5aaCdGhpcy50aXBMYmxs77yMdGhpcy5zY29yZUxibO+8jOWFt+acieS7o+eggeaPkOekuuaViOaenFxyXG4gKiDlu7rorq7vvJrlpoLmnpzmmK/pobXpnaLnuqfnmoTpgLvovpHvvIzpnIDopoHpopHnuYHorr/pl67pobXpnaLlhoXlpJrkuKrlhYPntKDvvIzkvb/nlKjnu6fmib/lvI/lhpnms5XvvIzlpoLmnpzmmK/ni6znq4vlsI/mqKHlnZfvvIzlip/og73ljZXkuIDvvIzlu7rorq7nlKjohJrmnKzmlrnlvI/lrp7njrDvvIzmr5TlpoLlrZDlvLnohJrmnKzjgIJcclxuICovXHJcbmltcG9ydCBDYW1lcmFNb3ZlU2NyaXB0IGZyb20gXCIuL0NhbWVyYU1vdmVTY3JpcHRcIjtcclxuLy8gaW1wb3J0IE9iamVjdCBmcm9tIFwiLi9PYmplY3QuanNcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZVVJIGV4dGVuZHMgTGF5YS5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIC8v5Yqg6L295Zy65pmv5paH5Lu2XHJcbiAgICAgICAgdGhpcy5sb2FkU2NlbmUoXCJ0ZXN0L1Rlc3RTY2VuZS5zY2VuZVwiKTtcclxuXHJcbiAgICAgICAgLy/mt7vliqAzROWcuuaZr1xyXG4gICAgICAgIHZhciBzY2VuZSA9IExheWEuc3RhZ2UuYWRkQ2hpbGQobmV3IExheWEuU2NlbmUzRCgpKTtcclxuXHJcbiAgICAgICAgLy/mt7vliqDnhafnm7jmnLpcclxuICAgICAgICB2YXIgY2FtZXJhID0gKHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLkNhbWVyYSgwLCAwLjEsIDIwMCkpKTtcclxuICAgICAgICBjYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsIDUsIDEwKSk7XHJcbiAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS5yb3RhdGUobmV3IExheWEuVmVjdG9yMygtMjAsIDAsIDApLCB0cnVlLCBmYWxzZSk7XHJcbiAgICAgICAgY2FtZXJhLmNsZWFyQ29sb3IgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyDmt7vliqDmlrnlkJHlhYlcclxuICAgICAgICB2YXIgZGlyZWN0aW9uTGlnaHQgPSBzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5EaXJlY3Rpb25MaWdodCgpKTtcclxuICAgICAgICBkaXJlY3Rpb25MaWdodC5jb2xvciA9IG5ldyBMYXlhLlZlY3RvcjMoMC42LCAwLjYsIDAuNik7XHJcbiAgICAgICAgZGlyZWN0aW9uTGlnaHQudHJhbnNmb3JtLndvcmxkTWF0cml4LnNldEZvcndhcmQobmV3IExheWEuVmVjdG9yMygtMS4wLCAtMS4wLCAtMS4wKSk7XHJcbiAgICAgICAgLy/nga/lhYnlvIDlkK/pmLTlvbFcclxuICAgICAgICBkaXJlY3Rpb25MaWdodC5zaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgIC8v5Y+v6KeB6Zi05b2x6Led56a7XHJcbiAgICAgICAgZGlyZWN0aW9uTGlnaHQuc2hhZG93RGlzdGFuY2UgPSAxNTtcclxuICAgICAgICAvL+eUn+aIkOmYtOW9sei0tOWbvuWwuuWvuFxyXG4gICAgICAgIGRpcmVjdGlvbkxpZ2h0LnNoYWRvd1Jlc29sdXRpb24gPSAxMDI0ICogOTtcclxuICAgICAgICAvL+aooeeziuetiee6pyzotorlpKfotorpq5gs5pu06ICX5oCn6IO9XHJcbiAgICAgICAgZGlyZWN0aW9uTGlnaHQuc2hhZG93UENGVHlwZSA9IDM7XHJcbiAgICAgICAgLy/nlJ/miJDpmLTlvbHotLTlm77mlbDph49cclxuICAgICAgICBkaXJlY3Rpb25MaWdodC5zaGFkb3dQU1NNQ291bnQgPSAxO1xyXG5cclxuICAgIFxyXG5cclxuICAgICAgICAvLyDmt7vliqDogZrlhYlcclxuICAgICAgICB2YXIgc3BvdExpZ2h0ID0gc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuU3BvdExpZ2h0KCkpO1xyXG4gICAgICAgIHNwb3RMaWdodC5jb2xvciA9IG5ldyBMYXlhLlZlY3RvcjMoMC4yLCAwLjgsIDAuMyk7XHJcbiAgICAgICAgc3BvdExpZ2h0LnRyYW5zZm9ybS5wb3NpdGlvbiA9IG5ldyBMYXlhLlZlY3RvcjMoMC4wLCAxLCAwLjApO1xyXG4gICAgICAgIHNwb3RMaWdodC50cmFuc2Zvcm0ud29ybGRNYXRyaXguc2V0Rm9yd2FyZChuZXcgTGF5YS5WZWN0b3IzKDAuOCwgLTUsIC0xNS4wKSk7XHJcbiAgICAgICAgc3BvdExpZ2h0LnJhbmdlID0gNjAuMDtcclxuICAgICAgICBzcG90TGlnaHQuc3BvdEFuZ2xlID0gOTA7XHJcbiAgICAgICAgLy8gc3BvdExpZ2h0LnNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgLy8gc3BvdExpZ2h0LnNoYWRvd0Rpc3RhbmNlID0gMztcclxuICAgICAgICAvLyAvL+eUn+aIkOmYtOW9sei0tOWbvuWwuuWvuFxyXG4gICAgICAgIC8vIHNwb3RMaWdodC5zaGFkb3dSZXNvbHV0aW9uID0gMjA0ODtcclxuICAgICAgICAvLyAvL+eUn+aIkOmYtOW9sei0tOWbvuaVsOmHj1xyXG4gICAgICAgIC8vIHNwb3RMaWdodC5zaGFkb3dQU1NNQ291bnQgPSAxO1xyXG4gICAgICAgIC8vIC8v5qih57OK562J57qnLOi2iuWkp+i2iumrmCzmm7TogJfmgKfog71cclxuXHJcbiAgICAgICAgLy8gLy8g5re75Yqg54K55YWJ54GvXHJcbiAgICAgICAgLy8gdmFyIERpcmVjdGlvbkxpZ2h0ID0gc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuRGlyZWN0aW9uTGlnaHQoKSk7XHJcbiAgICAgICAgLy8gLy/np7vliqjnga/lhYnkvY3nva5cclxuICAgICAgICAvLyBEaXJlY3Rpb25MaWdodC50cmFuc2Zvcm0udHJhbnNsYXRlKG5ldyBMYXlhLlZlY3RvcjMoMSwgMSwgMCkpO1xyXG4gICAgICAgIC8vIC8vIOiuvue9rueCueWFieeFp+S6ruiMg+WbtFxyXG4gICAgICAgIC8vIERpcmVjdGlvbkxpZ2h0LnJhbmdlID0gNTtcclxuICAgICAgICAvLyBEaXJlY3Rpb25MaWdodC5zaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgIC8vIERpcmVjdGlvbkxpZ2h0LnNoYWRvd0Rpc3RhbmNlID0gMTU7XHJcbiAgICAgICAgLy8gLy/nlJ/miJDpmLTlvbHotLTlm77lsLrlr7hcclxuICAgICAgICAvLyBEaXJlY3Rpb25MaWdodC5zaGFkb3dSZXNvbHV0aW9uID0gMTAyNCAqIDk7XHJcbiAgICAgICAgLy8gLy/mqKHns4rnrYnnuqcs6LaK5aSn6LaK6auYLOabtOiAl+aAp+iDvVxyXG4gICAgICAgIC8vIERpcmVjdGlvbkxpZ2h0LnNoYWRvd1BDRlR5cGUgPSAzO1xyXG4gICAgICAgIC8vIC8v55Sf5oiQ6Zi05b2x6LS05Zu+5pWw6YePXHJcbiAgICAgICAgLy8gRGlyZWN0aW9uTGlnaHQuc2hhZG93UFNTTUNvdW50ID0gMTtcclxuXHJcbiAgICAgICAgLy8gYm94IOS4gOS4quS4u+inkueJqeS9k1xyXG4gICAgICAgIHZhciBib3ggPSBzY2VuZS5hZGRDaGlsZChuZXcgTGF5YS5NZXNoU3ByaXRlM0QoTGF5YS5QcmltaXRpdmVNZXNoLmNyZWF0ZUJveCgwLjQsIDAuNCwgMC40KSkpXHJcbiAgICAgICAgYm94LnRyYW5zZm9ybS50cmFuc2xhdGUobmV3IExheWEuVmVjdG9yMygwLCAyLCAtMikpO1xyXG4gICAgICAgIGJveC50cmFuc2Zvcm0ucm90YXRlKG5ldyBMYXlhLlZlY3RvcjMoNDUsIDQ1LCA0NSksIGZhbHNlLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIOS6p+eUn+mYtOW9sVxyXG4gICAgICAgIGJveC5tZXNoUmVuZGVyZXIuY2FzdFNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgYm94Lm1lc2hSZW5kZXJlci5tYXRlcmlhbCA9IG5ldyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbChuZXcgTGF5YS5WZWN0b3I0KDMsIDYsIDIsIDEpKTtcclxuICAgIFxyXG4gICAgICAgIC8v5re75Yqg6Ieq5a6a5LmJ5qih5Z6LXHJcbiAgICAgICAgLy8gZ3JvdW5k5Zyw6Z2iXHJcbiAgICAgICAgdmFyIGdyb3VuZCA9IHNjZW5lLmFkZENoaWxkKG5ldyBMYXlhLk1lc2hTcHJpdGUzRChMYXlhLlByaW1pdGl2ZU1lc2guY3JlYXRlQm94KDEwLCAwLjAxLCAxMCkpKTtcclxuICAgICAgICBncm91bmQudHJhbnNmb3JtLnJvdGF0ZShuZXcgTGF5YS5WZWN0b3IzKDAsIDAsIDApLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgIHZhciBtYXRlcmlhbCA9IG5ldyBMYXlhLkJsaW5uUGhvbmdNYXRlcmlhbCgpO1xyXG4gICAgICAgIExheWEuVGV4dHVyZTJELmxvYWQoXCJyZXMvZ3Jhc3MuanBnXCIsIExheWEuSGFuZGxlci5jcmVhdGUobnVsbCwgZnVuY3Rpb24gKHRleCkge1xyXG4gICAgICAgICAgICBtYXRlcmlhbC5hbGJlZG9UZXh0dXJlID0gdGV4O1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICAvLyDmjqXmlLbmipXlvbFcclxuICAgICAgICBncm91bmQubWVzaFJlbmRlcmVyLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgIGdyb3VuZC5tZXNoUmVuZGVyZXIuY2FzdFNoYWRvdyA9IHRydWU7XHJcbiAgICAgICAgZ3JvdW5kLm1lc2hSZW5kZXJlci5tYXRlcmlhbCA9IG1hdGVyaWFsO1xyXG5cclxuICAgICAgICAvLyB3YWxsIOS4gOmdouWimeWjgVxyXG4gICAgICAgIHZhciB3YWxsID0gc2NlbmUuYWRkQ2hpbGQobmV3IExheWEuTWVzaFNwcml0ZTNEKExheWEuUHJpbWl0aXZlTWVzaC5jcmVhdGVCb3goMTAsIDUsIDAuMDEpKSlcclxuICAgICAgICB3YWxsLnRyYW5zZm9ybS50cmFuc2xhdGUobmV3IExheWEuVmVjdG9yMygwLCAxLCAtNSkpO1xyXG4gICAgICAgIC8vIOaOpeaUtuaKleW9sVxyXG4gICAgICAgIHdhbGwubWVzaFJlbmRlcmVyLnJlY2VpdmVTaGFkb3cgPSB0cnVlO1xyXG4gICAgICAgIHdhbGwubWVzaFJlbmRlcmVyLmNhc3RTaGFkb3cgPSB0cnVlO1xyXG5cclxuIFxyXG5cclxuICAgICAgICBjYW1lcmEuYWRkQ29tcG9uZW50KENhbWVyYU1vdmVTY3JpcHQpO1xyXG5cclxuICAgICAgICB2YXIgcmF5ID0gbmV3IExheWEuUmF5KG5ldyBMYXlhLlZlY3RvcjMoMCwgMCwgMCksIG5ldyBMYXlhLlZlY3RvcjMoMCwgMCwgMCkpO1xyXG4gICAgICAgIHZhciBwb2ludCA9IG5ldyBMYXlhLlZlY3RvcjIoKTtcclxuICAgICAgICBMYXlhLnN0YWdlLm9uKExheWEuRXZlbnQuTU9VU0VfRE9XTiwgdGhpcywgdGhpcy5vbk1vdXNlRG93bik7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4iXX0=
